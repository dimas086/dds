# Веб-сервис для управления движением денежных средств (ДДС)

## Описание
Веб-приложение для учета, управления и анализа движения денежных средств (ДДС) для компаний и частных лиц, включая стартапы и разработчиков. Приложение позволяет создавать, редактировать, удалять и просматривать записи о финансовых операциях, а также управлять справочниками статусов, типов, категорий и подкатегорий. Реализованы фильтры по дате, статусу, типу, категории и подкатегории, а также валидация логических зависимостей между сущностями.

Проект разработан с использованием **Django** и **SQLite** для простоты, с интерфейсом на основе **Bootstrap 5.3**. Управление справочниками осуществляется через Django Admin, а пользовательский интерфейс включает главную страницу с таблицей записей и страницу для создания/редактирования транзакций.

## Требования
- Python 3.8+
- Django 4.2+
- SQLite (встроена в Django)
- (Опционально) Django REST Framework для API

## Установка
1. **Клонируйте репозиторий**:
   ```bash
   git clone <ваш-репозиторий>
   cd dds_project
   ```

2. **Создайте и активируйте виртуальное окружение**:
   ```bash
   python -m venv venv
   source venv/bin/activate  # На Windows: venv\Scripts\activate
   ```

3. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

4. **Примените миграции**:
   ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```

5. **Создайте суперпользователя для доступа к админ-панели**:
   ```bash
   python manage.py createsuperuser
   ```

6. **Запустите сервер**:
   ```bash
   python manage.py runserver
   ```

## Доступ
- **Главная страница**: `http://127.0.0.1:8000/` — отображает таблицу записей ДДС с фильтрами по дате, статусу, типу, категории и подкатегории.
- **Страница создания/редактирования**: `http://127.0.0.1:8000/create/` или `http://127.0.0.1:8000/edit/<id>/` — форма для ввода данных с динамической фильтрацией категорий и подкатегорий.
- **Админ-панель**: `http://127.0.0.1:8000/admin/` — управление справочниками (статусы, типы, категории, подкатегории) и записями.

## Функционал
- **Создание/редактирование/удаление записей ДДС**:
  - Поля: дата, статус, тип, категория, подкатегория, сумма, комментарий (необязательный).
  - Динамическая фильтрация категорий и подкатегорий на основе выбранного типа.
- **Просмотр записей**:
  - Таблица с фильтрами по дате (период), статусу, типу, категории и подкатегории.
- **Управление справочниками**:
  - Добавление, редактирование и удаление статусов, типов, категорий и подкатегорий через админ-панель.
  - Логические зависимости: подкатегории привязаны к категориям, категории — к типам.
- **Валидация**:
  - Обязательные поля: сумма, тип, категория, подкатегория.
  - Серверная и клиентская валидация зависимостей (например, подкатегория должна соответствовать категории).

## Структура проекта
```
dds_project/
├── finance/
│   ├── migrations/
│   ├── templates/
│   │   ├── finance/
│   │   │   ├── transaction_list.html
│   │   │   ├── transaction_form.html
│   ├── __init__.py
│   ├── admin.py
│   ├── forms.py
│   ├── models.py
│   ├── views.py
├── dds_project/
│   ├── __init__.py
│   ├── settings.py
│   ├── urls.py
├── manage.py
├── requirements.txt
```

## Примечания
- Для стилизации интерфейса используется **Bootstrap 5.3**.
- Динамическая фильтрация категорий и подкатегорий реализована с помощью JavaScript и AJAX.
- Для управления справочниками используйте Django Admin, где можно добавлять статусы (например, «Бизнес», «Личное», «Налог»), типы («Пополнение», «Списание»), категории (например, «Инфраструктура», «Маркетинг») и подкатегории (например, «VPS», «Farpost»).
- (Опционально) API доступно через Django REST Framework по адресу `/transactions/` (если активировано).

## Тестирование
1. Зайдите в админ-панель (`/admin/`) и создайте несколько статусов, типов, категорий и подкатегорий.
2. Добавьте тестовые записи ДДС через страницу `/create/`.
3. Проверьте фильтры на главной странице (`/`), выбрав разные параметры.

